

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pyissm.tools package &mdash; pyissm v0.0.1dev1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=37c38653"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pyissm
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">pyissm.tools package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-pyissm.tools.config">pyissm.tools.config module</a><ul>
<li><a class="reference internal" href="#pyissm.tools.config.get_hostname"><code class="docutils literal notranslate"><span class="pre">get_hostname()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.config.get_issm_dir"><code class="docutils literal notranslate"><span class="pre">get_issm_dir()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.config.get_username"><code class="docutils literal notranslate"><span class="pre">get_username()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.config.iluasm_options"><code class="docutils literal notranslate"><span class="pre">iluasm_options()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.config.is_pc"><code class="docutils literal notranslate"><span class="pre">is_pc()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.config.issm_gsl_solver"><code class="docutils literal notranslate"><span class="pre">issm_gsl_solver()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.config.issm_mumps_solver"><code class="docutils literal notranslate"><span class="pre">issm_mumps_solver()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.config.mumps_options"><code class="docutils literal notranslate"><span class="pre">mumps_options()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pyissm.tools.exp">pyissm.tools.exp module</a><ul>
<li><a class="reference internal" href="#pyissm.tools.exp.exp_read"><code class="docutils literal notranslate"><span class="pre">exp_read()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.exp.exp_write"><code class="docutils literal notranslate"><span class="pre">exp_write()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pyissm.tools.general">pyissm.tools.general module</a><ul>
<li><a class="reference internal" href="#pyissm.tools.general.convert_units"><code class="docutils literal notranslate"><span class="pre">convert_units()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.general.extract_field_layer"><code class="docutils literal notranslate"><span class="pre">extract_field_layer()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.general.has_nested_attr"><code class="docutils literal notranslate"><span class="pre">has_nested_attr()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.general.ll_to_xy"><code class="docutils literal notranslate"><span class="pre">ll_to_xy()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.general.planetradius"><code class="docutils literal notranslate"><span class="pre">planetradius()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.general.xy_to_ll"><code class="docutils literal notranslate"><span class="pre">xy_to_ll()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pyissm.tools.geometry">pyissm.tools.geometry module</a><ul>
<li><a class="reference internal" href="#pyissm.tools.geometry.slope"><code class="docutils literal notranslate"><span class="pre">slope()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pyissm.tools.interp">pyissm.tools.interp module</a><ul>
<li><a class="reference internal" href="#pyissm.tools.interp.averaging"><code class="docutils literal notranslate"><span class="pre">averaging()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pyissm.tools.materials">pyissm.tools.materials module</a><ul>
<li><a class="reference internal" href="#pyissm.tools.materials.cuffey"><code class="docutils literal notranslate"><span class="pre">cuffey()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.materials.paterson"><code class="docutils literal notranslate"><span class="pre">paterson()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pyissm.tools.wrappers">pyissm.tools.wrappers module</a><ul>
<li><a class="reference internal" href="#pyissm.tools.wrappers.BamgConvertMesh"><code class="docutils literal notranslate"><span class="pre">BamgConvertMesh()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.wrappers.BamgMesher"><code class="docutils literal notranslate"><span class="pre">BamgMesher()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.wrappers.BamgTriangulate"><code class="docutils literal notranslate"><span class="pre">BamgTriangulate()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.wrappers.ContourToMesh"><code class="docutils literal notranslate"><span class="pre">ContourToMesh()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.wrappers.ContourToNodes"><code class="docutils literal notranslate"><span class="pre">ContourToNodes()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.wrappers.ElementConnectivity"><code class="docutils literal notranslate"><span class="pre">ElementConnectivity()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.wrappers.ExpToLevelSet"><code class="docutils literal notranslate"><span class="pre">ExpToLevelSet()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.wrappers.InterpFromGridToMesh"><code class="docutils literal notranslate"><span class="pre">InterpFromGridToMesh()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.wrappers.InterpFromMesh2d"><code class="docutils literal notranslate"><span class="pre">InterpFromMesh2d()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.wrappers.InterpFromMeshToGrid"><code class="docutils literal notranslate"><span class="pre">InterpFromMeshToGrid()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.wrappers.InterpFromMeshToMesh2d"><code class="docutils literal notranslate"><span class="pre">InterpFromMeshToMesh2d()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.wrappers.InterpFromMeshToMesh3d"><code class="docutils literal notranslate"><span class="pre">InterpFromMeshToMesh3d()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.wrappers.IssmConfig"><code class="docutils literal notranslate"><span class="pre">IssmConfig()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.wrappers.MeshPartition"><code class="docutils literal notranslate"><span class="pre">MeshPartition()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.wrappers.MeshProfileIntersection"><code class="docutils literal notranslate"><span class="pre">MeshProfileIntersection()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.wrappers.NodeConnectivity"><code class="docutils literal notranslate"><span class="pre">NodeConnectivity()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.wrappers.ProcessRifts"><code class="docutils literal notranslate"><span class="pre">ProcessRifts()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.wrappers.Triangle"><code class="docutils literal notranslate"><span class="pre">Triangle()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.wrappers.check_wrappers_installed"><code class="docutils literal notranslate"><span class="pre">check_wrappers_installed()</span></code></a></li>
<li><a class="reference internal" href="#pyissm.tools.wrappers.load_issm_wrapper"><code class="docutils literal notranslate"><span class="pre">load_issm_wrapper()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pyissm.tools">Module contents</a></li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyissm</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">pyissm.tools package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/pyissm.tools.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pyissm-tools-package">
<h1>pyissm.tools package<a class="headerlink" href="#pyissm-tools-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-pyissm.tools.config">
<span id="pyissm-tools-config-module"></span><h2>pyissm.tools.config module<a class="headerlink" href="#module-pyissm.tools.config" title="Link to this heading"></a></h2>
<p>Configuration functions for ISSM</p>
<p>This module contains various functions that relate to the configuration of the ISSM codebase.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.config.get_hostname">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.config.</span></span><span class="sig-name descname"><span class="pre">get_hostname</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.config.get_hostname" title="Link to this definition"></a></dt>
<dd><p>Get the hostname of the current machine.</p>
<p>This function retrieves the hostname of the machine on which the code is running.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The hostname of the current machine.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hostname</span> <span class="o">=</span> <span class="n">get_hostname</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.config.get_issm_dir">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.config.</span></span><span class="sig-name descname"><span class="pre">get_issm_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.config.get_issm_dir" title="Link to this definition"></a></dt>
<dd><p>Return the ISSM installation directory, or None if not configured.</p>
<p>This function checks the appropriate ISSM_DIR environment variable
(ISSM_DIR_WIN on Windows, ISSM_DIR otherwise). If the variable is not
set, it issues a warning with instructions and returns None.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.config.get_username">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.config.</span></span><span class="sig-name descname"><span class="pre">get_username</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.config.get_username" title="Link to this definition"></a></dt>
<dd><p>Get the username of the current user.</p>
<p>This function retrieves the username of the user currently logged into the system
by querying the appropriate environment variable based on the operating system.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The username of the current user. Returns an empty string if the username
cannot be determined.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">username</span> <span class="o">=</span> <span class="n">get_username</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
<span class="go">&#39;john_doe&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.config.iluasm_options">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.config.</span></span><span class="sig-name descname"><span class="pre">iluasm_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.config.iluasm_options" title="Link to this definition"></a></dt>
<dd><p>Set the ILU-ASM options for PETSc linear solver configuration.</p>
<p>This function configures ILU (Incomplete LU factorization) with ASM (Additive Schwarz Method)
preconditioner options for PETSc. It provides default settings for iterative solving
and allows user customization through keyword arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – Additional ILU-ASM options to override or supplement the defaults.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing ILU-ASM configuration options with defaults
updated with any user-provided options.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>collections.OrderedDict</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The function sets up an iterative solver configuration with:
- AIJ matrix type for sparse matrices
- GMRES Krylov subspace method
- Additive Schwarz Method (ASM) preconditioner with ILU subdomain solver
- 5-level overlap between subdomains
- Maximum 100 iterations with relative tolerance of 1e-15</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">opts</span> <span class="o">=</span> <span class="n">iluasm_options</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">opts</span> <span class="o">=</span> <span class="n">iluasm_options</span><span class="p">(</span><span class="n">ksp_max_it</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">opts</span> <span class="o">=</span> <span class="n">iluasm_options</span><span class="p">(</span><span class="n">pc_asm_overlap</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">ksp_rtol</span><span class="o">=</span><span class="mf">1e-12</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.config.is_pc">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.config.</span></span><span class="sig-name descname"><span class="pre">is_pc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.config.is_pc" title="Link to this definition"></a></dt>
<dd><p>Check if the current operating system is Windows.</p>
<p>This function determines whether the code is running on a Windows operating system.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if the operating system is Windows, False otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">is_windows</span> <span class="o">=</span> <span class="n">is_pc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">is_windows</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.config.issm_gsl_solver">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.config.</span></span><span class="sig-name descname"><span class="pre">issm_gsl_solver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.config.issm_gsl_solver" title="Link to this definition"></a></dt>
<dd><p>Set the GSL solver options for ISSM linear solver configuration.</p>
<p>This function configures GSL (GNU Scientific Library) solver options for use with
the ISSM toolkit. It provides default settings optimized for ISSM’s native GSL
solver interface and allows user customization through keyword arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – Additional GSL solver options to override or supplement the defaults.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing GSL solver configuration options with defaults
updated with any user-provided options.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>collections.OrderedDict</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function sets up ISSM’s native GSL solver interface with:
- ‘dense’ matrix type for dense matrix operations
- ‘seq’ vector type for sequential vector operations
- ‘gsl’ solver type for GSL-based solving</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">opts</span> <span class="o">=</span> <span class="n">issm_gsl_solver</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">opts</span> <span class="o">=</span> <span class="n">issm_gsl_solver</span><span class="p">(</span><span class="n">solver_type</span><span class="o">=</span><span class="s1">&#39;gsl&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.config.issm_mumps_solver">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.config.</span></span><span class="sig-name descname"><span class="pre">issm_mumps_solver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.config.issm_mumps_solver" title="Link to this definition"></a></dt>
<dd><p>Set the ISSM MUMPS solver options.</p>
<p>This function configures MUMPS (MUltifrontal Massively Parallel sparse direct Solver)
options for use with the ISSM toolkit. It provides default settings optimized for
ISSM’s native solver interface and allows user customization through keyword arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – Additional MUMPS options to override or supplement the defaults.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing ISSM MUMPS solver configuration options with defaults
updated with any user-provided options.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>collections.OrderedDict</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function sets up ISSM’s native MUMPS solver interface with:
- ‘mpiparse’ matrix type for ISSM’s sparse matrix format
- ‘mpi’ vector type for parallel vector operations
- ‘mumps’ solver type for direct factorization</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">opts</span> <span class="o">=</span> <span class="n">issm_mumps_solver</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">opts</span> <span class="o">=</span> <span class="n">issm_mumps_solver</span><span class="p">(</span><span class="n">solver_type</span><span class="o">=</span><span class="s1">&#39;mumps&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.config.mumps_options">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.config.</span></span><span class="sig-name descname"><span class="pre">mumps_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.config.mumps_options" title="Link to this definition"></a></dt>
<dd><p>Set the MUMPS options for PETSc linear solver configuration.</p>
<p>This function configures MUMPS (MUltifrontal Massively Parallel sparse direct Solver)
options based on the PETSc version detected in the system. It provides version-specific
defaults and allows user customization through keyword arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – Additional MUMPS options to override or supplement the defaults.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing MUMPS configuration options with PETSc version-specific
defaults updated with any user-provided options.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>collections.OrderedDict</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The function automatically detects PETSc major and minor versions and sets
appropriate defaults:
- PETSc v2.x: Uses ‘aijumps’ matrix type
- PETSc v3.x: Uses ‘mpiaij’ matrix type with additional solver package configuration
For PETSc v3.9+, uses ‘pc_factor_mat_solver_type’, otherwise uses the deprecated
‘pc_factor_mat_solver_package’.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">opts</span> <span class="o">=</span> <span class="n">mumps_options</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">opts</span> <span class="o">=</span> <span class="n">mumps_options</span><span class="p">(</span><span class="n">mat_mumps_icntl_14</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">opts</span> <span class="o">=</span> <span class="n">mumps_options</span><span class="p">(</span><span class="n">mat_mumps_icntl_28</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">mat_mumps_icntl_29</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-pyissm.tools.exp">
<span id="pyissm-tools-exp-module"></span><h2>pyissm.tools.exp module<a class="headerlink" href="#module-pyissm.tools.exp" title="Link to this heading"></a></h2>
<p>Tools working with <a href="#id1"><span class="problematic" id="id2">*</span></a>.exp files for ISSM model domains and contours.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.exp.exp_read">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.exp.</span></span><span class="sig-name descname"><span class="pre">exp_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.exp.exp_read" title="Link to this definition"></a></dt>
<dd><p>Read contours from an exp file.</p>
<p>This function reads contour data from a file in <a href="#id3"><span class="problematic" id="id4">*</span></a>.exp format. The function can handle
files containing multiple contours. Each contour is returned as a dictionary
containing coordinate data, metadata, and geometric properties.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – Path to the input exp file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>contours</strong> – List of contour data read from the file. Each contour dictionary contains:
- ‘x’ : np.ndarray</p>
<blockquote>
<div><p>X coordinates of the contour points</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>’y’<span class="classifier">np.ndarray</span></dt><dd><p>Y coordinates of the contour points</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’name’<span class="classifier">str</span></dt><dd><p>Name of the contour from the file</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’density’<span class="classifier">float</span></dt><dd><p>Density value for the contour</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’nods’<span class="classifier">int</span></dt><dd><p>Number of nodes/points in the contour</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’icon’<span class="classifier">str, optional</span></dt><dd><p>Icon value from the file, if present</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’closed’<span class="classifier">bool</span></dt><dd><p>Whether the contour is closed (first and last points are identical)</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of dict</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>IOError</strong> – If the input file does not exist</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The function expects exp files with specific formatting including contour headers,
point counts, density values, and coordinate data. The function handles variations
in header spacing (e.g., ‘# Points Count Value’ vs ‘# Points Count  Value’).
Invalid formatting may cause parsing errors.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">contours</span> <span class="o">=</span> <span class="n">exp_read</span><span class="p">(</span><span class="s1">&#39;input.exp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Read </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">contours</span><span class="p">)</span><span class="si">}</span><span class="s2"> contours&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">contour</span> <span class="ow">in</span> <span class="n">contours</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Contour &#39;</span><span class="si">{</span><span class="n">contour</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39; has </span><span class="si">{</span><span class="n">contour</span><span class="p">[</span><span class="s1">&#39;nods&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> points&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.exp.exp_write">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.exp.</span></span><span class="sig-name descname"><span class="pre">exp_write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contours</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.exp.exp_write" title="Link to this definition"></a></dt>
<dd><p>Write contours to an exp file.</p>
<p>This function writes contour data to a file in <a href="#id5"><span class="problematic" id="id6">*</span></a>.exp format. The function can handle
both single contours and lists of contours. Each contour should be a dictionary
containing ‘x’ and ‘y’ coordinate data, and optionally ‘name’ and ‘density’ fields.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>contours</strong> (<em>dict</em><em> or </em><em>list</em><em> of </em><em>dict</em>) – <p>Contour data to write. If a dictionary, represents a single contour.
If a list, represents multiple contours. Each contour dictionary should contain:
- ‘x’ : array-like or scalar</p>
<blockquote>
<div><p>X coordinates of the contour points</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt>’y’<span class="classifier">array-like or scalar</span></dt><dd><p>Y coordinates of the contour points</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’name’<span class="classifier">str, optional</span></dt><dd><p>Name of the contour. If not provided, filename is used</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’density’<span class="classifier">int, optional</span></dt><dd><p>Density value for the contour. Default is 1.0</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – Path to the output exp file</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – If X and Y coordinates are not of identical size</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The exp file format includes headers with contour names, point counts,
density values, and coordinate data formatted to 10 decimal places.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">contour</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;triangle&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exp_write</span><span class="p">(</span><span class="n">contour</span><span class="p">,</span> <span class="s1">&#39;output.exp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">contours</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;density&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;line2&#39;</span><span class="p">}</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exp_write</span><span class="p">(</span><span class="n">contours</span><span class="p">,</span> <span class="s1">&#39;multiple_contours.exp&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-pyissm.tools.general">
<span id="pyissm-tools-general-module"></span><h2>pyissm.tools.general module<a class="headerlink" href="#module-pyissm.tools.general" title="Link to this heading"></a></h2>
<p>Utility functions for ISSM</p>
<p>This module contains various utility functions that are used throughout the ISSM codebase.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.general.convert_units">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.general.</span></span><span class="sig-name descname"><span class="pre">convert_units</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_units</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_units</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">31536000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rho_ice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">917</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.general.convert_units" title="Link to this definition"></a></dt>
<dd><p>Convert numerical data between supported geophysical units.</p>
<p>This function supports a variety of conversions commonly required when
working with ISSM input/output entities. Required constants are
consistent with those used in the Ice sheet and Sea Level System Model (ISSM).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_units</strong> (<em>str</em>) – Units of the input data. Must be one of:
‘m’, ‘km’, ‘ms-1’, ‘myr-1’, ‘m2’, ‘km2’, ‘Gt’, ‘km3’, ‘Gtyr-1’, ‘kgs-1’.</p></li>
<li><p><strong>output_units</strong> (<em>str</em>) – Desired units for the output data. Must be one of:
‘m’, ‘km’, ‘ms-1’, ‘myr-1’, ‘m2’, ‘km2’, ‘Gt’, ‘km3’, ‘Gtyr-1’, ‘kgs-1’.</p></li>
<li><p><strong>data</strong> (<em>float</em><em>, </em><em>list</em><em>, or </em><em>ndarray</em>) – Numerical value(s) to convert. Data are converted to array for computation.</p></li>
<li><p><strong>yts</strong> (<em>float</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Seconds in a year (default = 365 * 24 * 60 * 60)</p></li>
<li><p><strong>rho_ice</strong> (<em>float</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Ice density in kg/m3 (default: 917)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>converted_data</strong> – The data converted from <cite>input_units</cite> to <cite>output_units</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or ndarray</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If <cite>input_units</cite> or <cite>output_units</cite> are not among the accepted units,
    or if the requested unit conversion is not supported.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The following unit conversions are supported:</p>
<ul class="simple">
<li><p>Length: m &lt;-&gt; km</p></li>
<li><p>Area: m² &lt;-&gt; km²</p></li>
<li><p>Speed: m/s &lt;-&gt; m/yr</p></li>
<li><p>Volume: m³ &lt;-&gt; km³</p></li>
<li><p>Mass: Gt &lt;-&gt; km³ (using ice density 917 kg/m³)</p></li>
<li><p>Rate: Gt/yr &lt;-&gt; kg/s</p></li>
<li><p>Rate: kg/m²/s-1 &lt;-&gt; myr-1</p></li>
<li><p>Rate: kg/m²/s-1 &lt;-&gt; myr-1ie</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.general.extract_field_layer">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.general.</span></span><span class="sig-name descname"><span class="pre">extract_field_layer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">md</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layer</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.general.extract_field_layer" title="Link to this definition"></a></dt>
<dd><p>Extract a 2D horizontal layer from a 3D field defined on the model’s vertices.</p>
<p>This function isolates a specific horizontal layer from a field defined over all
3D vertices of a model. Only vertex-based fields are supported; element-based
fields will raise an error.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>md</strong> (<em>ISSM Model object</em>) – ISSM Model object containing mesh. Must be compatible with process_mesh().</p></li>
<li><p><strong>field</strong> (<em>np.ndarray</em>) – A 1D array of shape ‘md.mesh.numberofvertices’ representing a 3D field defined on vertices.</p></li>
<li><p><strong>layer</strong> (<em>int</em>) – The vertical layer index to extract (1-based). Must be a single integer.
Layer indexing starts from 1 (base) to ‘md.mesh.numberoflayers’ (surface).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>select_layer</strong> (<em>np.ndarray</em>) – A 1D array of shape ‘md.mesh.numberofvertices2d’ or ‘md.mesh.numberofelements2d’ containing the field values at the specified layer.</p></li>
<li><p><strong>select_indices</strong> (<em>np.ndarray</em>) – A 1D array of shape ‘md.mesh.numberofvertices2d’ or ‘md.mesh.numberofelements2d’ containing the indices of vertices/elements associated with the specified layer.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This function assumes that the 3D vertex/element ordering in ‘field’ is layer-major:
i.e., all vertices/elements in layer 1 come first, then layer 2, and so on.</p></li>
<li><p>Depth-averaging functionality (e.g., specifying a range of layers) is not yet implemented.</p></li>
</ul>
<p class="rubric">Example</p>
<p>field_2d, select_indices = extract_field_layer(md, md.results.TransientSolution.Temperature[0], layer = 1)
field_2d, select_indices = extract_field_layer(md, md.materials.rheology_n, layer = 6)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.general.has_nested_attr">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.general.</span></span><span class="sig-name descname"><span class="pre">has_nested_attr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">attrs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.general.has_nested_attr" title="Link to this definition"></a></dt>
<dd><p>Check whether an object has a chain of nested attributes.</p>
<p>This function tests whether an object has a sequence of attributes,
each accessible from the previous one, such as <cite>obj.a.b.c</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>object</em>) – The base object from which to start the attribute lookup.</p></li>
<li><p><strong>*attrs</strong> (<em>str</em>) – A sequence of attribute names representing the path to check.
Each string in <cite>attrs</cite> should be a valid attribute of the previous one.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>has_attr</strong> – <cite>True</cite> if all nested attributes exist, <cite>False</cite> otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.general.ll_to_xy">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.general.</span></span><span class="sig-name descname"><span class="pre">ll_to_xy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sign</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">central_meridian</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">standard_parallel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.general.ll_to_xy" title="Link to this definition"></a></dt>
<dd><p>Convert geographic coordinates (latitude, longitude) to Cartesian coordinates (x, y)
using the polar stereographic projection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat</strong> (<em>array_like</em>) – The latitude in degrees.</p></li>
<li><p><strong>lon</strong> (<em>array_like</em>) – The longitude in degrees.</p></li>
<li><p><strong>sign</strong> (<em>int</em>) – The hemisphere indicator, where 1 indicates the northern hemisphere and -1 indicates the southern hemisphere.</p></li>
<li><p><strong>central_meridian</strong> (<em>float</em><em>, </em><em>optional</em>) – The central meridian in degrees. If not specified, defaults are used based on the hemisphere.</p></li>
<li><p><strong>standard_parallel</strong> (<em>float</em><em>, </em><em>optional</em>) – The standard parallel in degrees. If not specified, defaults are used based on the hemisphere.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>x</strong> (<em>ndarray</em>) – The x-coordinates in meters.</p></li>
<li><p><strong>y</strong> (<em>ndarray</em>) – The y-coordinates in meters.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If <cite>sign</cite> is not 1 or -1.
    If only one of <cite>central_meridian</cite> or <cite>standard_parallel</cite> is specified.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The function uses the WGS84 ellipsoid parameters for the conversion.
Special handling is included for the case when <cite>standard_parallel</cite> is 90 degrees.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.general.planetradius">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.general.</span></span><span class="sig-name descname"><span class="pre">planetradius</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">planet</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.general.planetradius" title="Link to this definition"></a></dt>
<dd><p>Return the mean radius of a specified planetary body.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>planet</strong> (<em>str</em>) – Name of the planet. Supported values are:
- <cite>‘earth’</cite> : Earth’s mean radius in meters.
- <cite>‘europa’</cite> : Europa’s mean radius in meters.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>radius</strong> – Planetary radius in meters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – If the input <cite>planet</cite> is not one of the supported values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.general.xy_to_ll">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.general.</span></span><span class="sig-name descname"><span class="pre">xy_to_ll</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sign</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">central_meridian</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">standard_parallel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.general.xy_to_ll" title="Link to this definition"></a></dt>
<dd><p>Convert Cartesian coordinates (x, y) to geographic coordinates (latitude, longitude)
using the polar stereographic projection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array_like</em>) – The x-coordinates in meters.</p></li>
<li><p><strong>y</strong> (<em>array_like</em>) – The y-coordinates in meters.</p></li>
<li><p><strong>sign</strong> (<em>int</em>) – The hemisphere indicator, where 1 indicates the northern hemisphere and -1 indicates the southern hemisphere.</p></li>
<li><p><strong>central_meridian</strong> (<em>float</em><em>, </em><em>optional</em>) – The central meridian in degrees. If not specified, defaults are used based on the hemisphere.</p></li>
<li><p><strong>standard_parallel</strong> (<em>float</em><em>, </em><em>optional</em>) – The standard parallel in degrees. If not specified, defaults are used based on the hemisphere.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>lat</strong> (<em>ndarray</em>) – The latitude in degrees.</p></li>
<li><p><strong>lon</strong> (<em>ndarray</em>) – The longitude in degrees, adjusted by the central meridian.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If <cite>sign</cite> is not 1 or -1.
    If only one of <cite>central_meridian</cite> or <cite>standard_parallel</cite> is specified.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The function uses the WGS84 ellipsoid parameters for the conversion.
Special handling is included for the case when <cite>standard_parallel</cite> is 90 degrees.</p>
</dd></dl>

</section>
<section id="module-pyissm.tools.geometry">
<span id="pyissm-tools-geometry-module"></span><h2>pyissm.tools.geometry module<a class="headerlink" href="#module-pyissm.tools.geometry" title="Link to this heading"></a></h2>
<p>Geometry-related functions for ISSM</p>
<p>This module contains functions to compute geometric properties on ISSM model meshes.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.geometry.slope">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.geometry.</span></span><span class="sig-name descname"><span class="pre">slope</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">md</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.geometry.slope" title="Link to this definition"></a></dt>
<dd><p>Compute the slope of a given field over the mesh elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>md</strong> (<em>object</em>) – Model object containing mesh and geometry information.</p></li>
<li><p><strong>field</strong> (<em>array-like</em><em>, </em><em>optional</em>) – Field values at mesh nodes. If not provided, uses the surface elevation
from md.geometry.surface. Default is None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>sx</strong> (<em>ndarray</em>) – Slope component in the x-direction at element centers.</p></li>
<li><p><strong>sy</strong> (<em>ndarray</em>) – Slope component in the y-direction at element centers.</p></li>
<li><p><strong>s</strong> (<em>ndarray</em>) – Magnitude of the slope at element centers.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>NotImplementedError</strong> – If the mesh dimension is 3D, as 3D meshes are not yet supported.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The slope is computed using nodal basis functions N(x, y) = alpha*x + beta*y + gamma.
For 2D meshes, elements and coordinates are taken directly from the mesh.
For 3D meshes, 2D elements and coordinates are used instead.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sx</span><span class="p">,</span> <span class="n">sy</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="n">slope</span><span class="p">(</span><span class="n">md</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sx</span><span class="p">,</span> <span class="n">sy</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="n">slope</span><span class="p">(</span><span class="n">md</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="n">md</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">bed</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-pyissm.tools.interp">
<span id="pyissm-tools-interp-module"></span><h2>pyissm.tools.interp module<a class="headerlink" href="#module-pyissm.tools.interp" title="Link to this heading"></a></h2>
<p>Interpolation functions for ISSM</p>
<p>This module contains various interpolation functions that can be used in conjunction with ISSM models.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.interp.averaging">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.interp.</span></span><span class="sig-name descname"><span class="pre">averaging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">md</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.interp.averaging" title="Link to this definition"></a></dt>
<dd><p>Smooth input data over a mesh using area/volume-weighted nodal averaging.</p>
<p>This function performs an iterative smoothing of data defined either on mesh
elements or on mesh vertices. For element-defined data, it first distributes
element values to nodes using element areas/volumes as weights. For vertex-
defined data, it uses the provided nodal values as the starting point. Each
iteration computes element-averaged values from current nodal values and then
recomputes nodal values as the area/volume-weighted average of adjacent
element averages. The algorithm supports 2-D meshes, full 3-D meshes (using
element volumes), and extraction of a single 2-D layer from a 3-D mesh.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>md</strong> (<em>ISSM model object</em>)</p></li>
<li><p><strong>data</strong> (<em>array_like</em>) – 1-D array-like of scalar values defined either on elements or on
vertices. Its length must be equal to either:
- md.mesh.numberofelements  (data on elements), or
- md.mesh.numberofvertices  (data on vertices).
If <cite>layer</cite> is provided for a 3-D mesh, the vertex-based length should be
md.mesh.numberofvertices2d and element-based length md.mesh.numberofelements2d.</p></li>
<li><p><strong>iterations</strong> (<em>int</em>) – Number of smoothing iterations to perform. Must be a non-negative
integer. A value of 0 will still perform the initial element-&gt;node
distribution if <cite>data</cite> is provided on elements.</p></li>
<li><p><strong>layer</strong> (<em>int</em><em>, </em><em>optional</em>) – Layer index to extract when working with a 3-D mesh. Default is 0,
meaning operate on the full mesh. If non-zero, it must satisfy
1 &lt;= layer &lt;= md.mesh.numberoflayers and the function will operate on
the corresponding 2-D layer (using mesh.elements2d, x2d, y2d, etc.).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>average</strong> – Dense column vector containing the smoothed nodal values. The length n is
md.mesh.numberofvertices when <cite>layer == 0</cite>, or md.mesh.numberofvertices2d
when a 2-D layer is extracted.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray, shape (n, 1)</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>Exception</strong> – If the length of <cite>data</cite> does not match the expected number of elements or
    vertices for the mesh/layer combination.</p></li>
<li><p><strong>ValueError</strong> – If a non-zero <cite>layer</cite> is provided for a 3-D mesh but is outside the valid
    range (not in 1..md.mesh.numberoflayers).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Weighting: element areas (2-D) or volumes (3-D) are used to weight the
contribution of each element to its corner nodes when distributing element
values to nodes and when recomputing nodal values from element averages.</p></li>
<li><p>Indexing: mesh connectivity arrays are expected to be 1-based in the model
and are converted to 0-based indices internally.</p></li>
<li><p>Output is returned as a dense array (not a sparse matrix) for compatibility
with downstream code (e.g. C routines) that expect full arrays.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Smooth element data on a 2-D mesh for 5 iterations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">avg</span> <span class="o">=</span> <span class="n">averaging</span><span class="p">(</span><span class="n">md</span><span class="p">,</span> <span class="n">element_data</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Smooth nodal data on layer 2 of a 3-D mesh</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">avg2d</span> <span class="o">=</span> <span class="n">averaging</span><span class="p">(</span><span class="n">md</span><span class="p">,</span> <span class="n">vertex_data_2d</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">layer</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-pyissm.tools.materials">
<span id="pyissm-tools-materials-module"></span><h2>pyissm.tools.materials module<a class="headerlink" href="#module-pyissm.tools.materials" title="Link to this heading"></a></h2>
<p>Material property functions for ISSM</p>
<p>This module contains functions to compute ice material properties.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.materials.cuffey">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.materials.</span></span><span class="sig-name descname"><span class="pre">cuffey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">temperature</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.materials.cuffey" title="Link to this definition"></a></dt>
<dd><p>Compute ice rigidity using the Cuffey parameterization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>temperature</strong> (<em>array_like</em>) – Temperature value(s) in Kelvin. Must be non-negative. Scalar or array-like
inputs are accepted and will be converted to a NumPy array.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>rigidity</strong> – Array of computed rigidity values with the same shape as <code class="docutils literal notranslate"><span class="pre">temperature</span></code>.
The return dtype is float. Values that are computed as negative are
replaced by a floor value of 1e6.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – If any element of <code class="docutils literal notranslate"><span class="pre">temperature</span></code> is negative (temperatures must be given
    in Kelvin).</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The implementation converts input temperatures from Kelvin to Celsius and
then evaluates a piecewise cubic polynomial fit over several temperature
intervals. A temperature-dependent shift is applied within each interval
before polynomial evaluation. A global scale factor (1e8) is multiplied by
the polynomial result. To ensure physical plausibility, any negative
computed rigidity values are replaced with 1e6.</p>
<p>The function preserves the shape of the input (broadcasting rules of NumPy
apply) and returns an array of the same shape.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.materials.paterson">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.materials.</span></span><span class="sig-name descname"><span class="pre">paterson</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">temperature</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.materials.paterson" title="Link to this definition"></a></dt>
<dd><p>Compute ice rigidity using the Paterson parameterization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>temperature</strong> (<em>array_like</em>) – Temperature value(s) in Kelvin. Must be non-negative. Scalar or array-like
inputs are accepted and will be converted to a NumPy array.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>rigidity</strong> – Array of computed rigidity values with the same shape as <code class="docutils literal notranslate"><span class="pre">temperature</span></code>.
The return dtype is float. Values that are computed as negative are
replaced by a floor value of 1e6.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – If any element of <code class="docutils literal notranslate"><span class="pre">temperature</span></code> is negative (temperatures must be given
    in Kelvin).</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The implementation converts input temperatures from Kelvin to Celsius and
then evaluates a piecewise cubic polynomial fit over several temperature
intervals. A temperature-dependent shift is applied within each interval
before polynomial evaluation. A global scale factor (1e8) is multiplied by
the polynomial result. To ensure physical plausibility, any negative
computed rigidity values are replaced with 1e6.</p>
<p>The function preserves the shape of the input (broadcasting rules of NumPy
apply) and returns an array of the same shape.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<dl class="simple">
<dt>DeprecationWarning</dt><dd><p>This function is outdated. Use <a class="reference internal" href="#pyissm.tools.materials.cuffey" title="pyissm.tools.materials.cuffey"><code class="xref py py-func docutils literal notranslate"><span class="pre">cuffey()</span></code></a> instead.</p>
</dd>
</dl>
</div>
</dd></dl>

</section>
<section id="module-pyissm.tools.wrappers">
<span id="pyissm-tools-wrappers-module"></span><h2>pyissm.tools.wrappers module<a class="headerlink" href="#module-pyissm.tools.wrappers" title="Link to this heading"></a></h2>
<p>Python functions for C++ Python Wrappers in ISSM</p>
<p>This module contains various Python functions that point to Python wrappers for C++ modules in ISSM.</p>
<p>NOTE: Functionality here requires the following:
- ISSM has been installed using python wrappers.
- The Python version used to install ISSM Python wrappers is the same as that used to run pyISSM.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.BamgConvertMesh">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">BamgConvertMesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.BamgConvertMesh" title="Link to this definition"></a></dt>
<dd><p>Convert a 2D mesh to BAMG geometry and BAMG mesh format.</p>
<p>Wrapper function for $ISSM_DIR/lib/BamgConvertMesh_python.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>array_like</em>) – Indices of the mesh elements.</p></li>
<li><p><strong>x</strong> (<em>array_like</em>) – X coordinates of the mesh nodes.</p></li>
<li><p><strong>y</strong> (<em>array_like</em>) – Y coordinates of the mesh nodes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>bamggeom</strong> (<em>BamgGeom</em>) – The generated BAMG geometry object.</p></li>
<li><p><strong>bamgmesh</strong> (<em>BamgMesh</em>) – The generated BAMG mesh object.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bamggeom</span><span class="p">,</span> <span class="n">bamgmesh</span> <span class="o">=</span> <span class="n">BamgConvertMesh</span><span class="p">(</span><span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">elements</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.BamgMesher">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">BamgMesher</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bamgmesh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bamggeom</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bamgoptions</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.BamgMesher" title="Link to this definition"></a></dt>
<dd><p>Generate a BAMG mesh from a BAMG mesh, geometry and options.</p>
<p>Wrapper function for $ISSM_DIR/lib/BamgMesher_python.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bamgmesh</strong> (<em>BamgMesh</em>) – The BAMG mesh object to refine.</p></li>
<li><p><strong>bamggeom</strong> (<em>BamgGeom</em>) – The BAMG geometry object defining the domain.</p></li>
<li><p><strong>bamgoptions</strong> (<em>BamgOptions</em>) – The BAMG options object containing meshing parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>bamggeom</strong> (<em>BamgGeom</em>) – The generated BAMG geometry object.</p></li>
<li><p><strong>bamgmesh</strong> (<em>BamgMesh</em>) – The generated BAMG mesh object.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>bamggeom</strong> (<em>BamgGeom</em>) – The generated BAMG geometry object.</p></li>
<li><p><strong>bamgmesh</strong> (<em>BamgMesh</em>) – The generated BAMG mesh object.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bamggeom</span><span class="p">,</span> <span class="n">bamgmesh</span> <span class="o">=</span> <span class="n">BamgMesher</span><span class="p">(</span><span class="n">bamgmesh</span><span class="p">,</span> <span class="n">bamggeom</span><span class="p">,</span> <span class="n">bamgoptions</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.BamgTriangulate">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">BamgTriangulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.BamgTriangulate" title="Link to this definition"></a></dt>
<dd><p>Delaunay triangulation of a set of points.</p>
<p>Wrapper function for $ISSM_DIR/lib/BamgMesher_python.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array_like</em>) – X coordinates of the points.</p></li>
<li><p><strong>y</strong> (<em>array_like</em>) – Y coordinates of the points.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>indices</strong> – Indices of the triangles formed by the Delaunay triangulation.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>array_like</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">indices</span> <span class="o">=</span> <span class="n">BamgTriangulate</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.ContourToMesh">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">ContourToMesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contour_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interp_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.ContourToMesh" title="Link to this definition"></a></dt>
<dd><p>Flag the elements or nodes inside a contour.</p>
<p>Wrapper function for $ISSM_DIR/lib/ContourToMesh_python.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>array_like</em>) – Mesh triangulation connectivity (element indices).</p></li>
<li><p><strong>x</strong> (<em>array_like</em>) – X coordinates of the mesh nodes.</p></li>
<li><p><strong>y</strong> (<em>array_like</em>) – Y coordinates of the mesh nodes.</p></li>
<li><p><strong>contour_name</strong> (<em>str</em>) – Name of .exp file containing the contours.</p></li>
<li><p><strong>interp_type</strong> (<em>str</em>) – Type of interpolation. Must be one of ‘element’, ‘node’, or ‘element and node’.</p></li>
<li><p><strong>edge_value</strong> (<em>int</em>) – Value (0, 1 or 2) associated to the nodes on the edges of the polygons.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>in_nod</strong> (<em>ndarray or tuple</em>) – If <cite>interp_type</cite> is ‘node’: vector of flags (0 or 1) of size nel.
If <cite>interp_type</cite> is ‘element and node’: tuple containing (in_nod, in_elem).
Otherwise: not returned.</p></li>
<li><p><strong>in_elem</strong> (<em>ndarray</em>) – If <cite>interp_type</cite> is ‘element’: vector of flags (0 or 1) of size nel.
If <cite>interp_type</cite> is ‘element and node’: returned as second element of tuple.
Otherwise: not returned.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">in_nod</span> <span class="o">=</span> <span class="n">ContourToMesh</span><span class="p">(</span><span class="n">md</span><span class="o">.</span><span class="n">elements</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="s1">&#39;Contour.exp&#39;</span><span class="p">,</span> <span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">in_elements</span> <span class="o">=</span> <span class="n">ContourToMesh</span><span class="p">(</span><span class="n">md</span><span class="o">.</span><span class="n">elements</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="s1">&#39;Contour.exp&#39;</span><span class="p">,</span> <span class="s1">&#39;element&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">in_nodes</span><span class="p">,</span> <span class="n">in_elements</span> <span class="o">=</span> <span class="n">ContourToMesh</span><span class="p">(</span><span class="n">md</span><span class="o">.</span><span class="n">elements</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="s1">&#39;Contour.exp&#39;</span><span class="p">,</span> <span class="s1">&#39;element and node&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.ContourToNodes">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">ContourToNodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contourname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edgevalue</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.ContourToNodes" title="Link to this definition"></a></dt>
<dd><p>Flag vertices inside contour.</p>
<p>Wrapper function for $ISSM_DIR/lib/ContourToNodes_python.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array_like</em>) – X coordinates of the nodes.</p></li>
<li><p><strong>y</strong> (<em>array_like</em>) – Y coordinates of the nodes.</p></li>
<li><p><strong>contourname</strong> (<em>str</em>) – Name of .exp/.shp file containing the contours, or resulting structure
from call to expread/shpread.</p></li>
<li><p><strong>edgevalue</strong> (<em>int</em>) – Value (0, 1 or 2) defining the value associated to the nodes on the
edges of the polygons.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>flags</strong> – Vector of flags (0 or 1) of size equal to the number of nodes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">=</span> <span class="n">ContourToNodes</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;contour.exp&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.ElementConnectivity">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">ElementConnectivity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elements</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_connectivity</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.ElementConnectivity" title="Link to this definition"></a></dt>
<dd><p>Build element connectivity using node connectivity and elements.</p>
<p>Wrapper function for $ISSM_DIR/lib/ElementConnectivity_python.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>elements</strong> (<em>array_like</em>) – Mesh triangulation connectivity (element indices).</p></li>
<li><p><strong>node_connectivity</strong> (<em>array_like</em>) – Node connectivity information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>element_connectivity</strong> – Element connectivity matrix.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">element_connectivity</span> <span class="o">=</span> <span class="n">ElementConnectivity</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">node_connectivity</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.ExpToLevelSet">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">ExpToLevelSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contourname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.ExpToLevelSet" title="Link to this definition"></a></dt>
<dd><p>Determine levelset distance between a contour and a cloud of points.</p>
<p>Wrapper function for $ISSM_DIR/lib/ExpToLevelSet_python.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array_like</em>) – X coordinates of the cloud points.</p></li>
<li><p><strong>y</strong> (<em>array_like</em>) – Y coordinates of the cloud points.</p></li>
<li><p><strong>contourname</strong> (<em>str</em>) – Name of .exp file containing the contours.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>distance</strong> – Distance vector representing a levelset where the 0 level is one
of the contour segments.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">distance</span> <span class="o">=</span> <span class="n">ExpToLevelSet</span><span class="p">(</span><span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="s1">&#39;Contour.exp&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.InterpFromGridToMesh">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">InterpFromGridToMesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_mesh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_mesh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolation_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bilinear'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.InterpFromGridToMesh" title="Link to this definition"></a></dt>
<dd><p>Interpolation from a grid onto a list of points.</p>
<p>Wrapper function for $ISSM_DIR/lib/InterpFromGridToMesh_python.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array_like</em>) – X coordinates of the grid data (must be in increasing order).</p></li>
<li><p><strong>y</strong> (<em>array_like</em>) – Y coordinates of the grid data (must be in increasing order).</p></li>
<li><p><strong>data</strong> (<em>array_like</em>) – Matrix holding the data to be interpolated onto the mesh.</p></li>
<li><p><strong>x_mesh</strong> (<em>array_like</em>) – X coordinates of the points onto which we interpolate.</p></li>
<li><p><strong>y_mesh</strong> (<em>array_like</em>) – Y coordinates of the points onto which we interpolate.</p></li>
<li><p><strong>default_value</strong> (<em>float</em>) – Default value to use for points outside the grid.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data_mesh</strong> – Vector of mesh interpolated data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data_mesh</span> <span class="o">=</span> <span class="n">InterpFromGridToMesh</span><span class="p">(</span><span class="n">x_grid</span><span class="p">,</span> <span class="n">y_grid</span><span class="p">,</span> <span class="n">Vel</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.InterpFromMesh2d">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">InterpFromMesh2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_prime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_prime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contourname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.InterpFromMesh2d" title="Link to this definition"></a></dt>
<dd><p>Interpolate data from a 2D mesh onto a set of points.</p>
<p>Wrapper function for $ISSM_DIR/lib/InterpFromMesh2d_python.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>array_like</em>) – Index of the mesh where data is defined (triangulation connectivity).</p></li>
<li><p><strong>x</strong> (<em>array_like</em>) – X coordinates of the nodes where data is defined.</p></li>
<li><p><strong>y</strong> (<em>array_like</em>) – Y coordinates of the nodes where data is defined.</p></li>
<li><p><strong>data</strong> (<em>array_like</em>) – Vector holding the data to be interpolated onto the points.</p></li>
<li><p><strong>x_prime</strong> (<em>array_like</em>) – X coordinates of the mesh vertices onto which we interpolate.</p></li>
<li><p><strong>y_prime</strong> (<em>array_like</em>) – Y coordinates of the mesh vertices onto which we interpolate.</p></li>
<li><p><strong>default_value</strong> (<em>float</em><em> or </em><em>array_like</em><em>, </em><em>optional</em>) – Default value(s) to use for interpolation. Can be a scalar or vector
of size len(x_prime).</p></li>
<li><p><strong>contourname</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of contour file. Linear interpolation will happen on all x_prime,
y_prime inside the contour, default value will be adopted on the rest
of the mesh.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data_prime</strong> – Vector of interpolated data at the target points.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data_prime</span> <span class="o">=</span> <span class="n">InterpFromMesh2d</span><span class="p">(</span><span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">elements</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">x_new</span><span class="p">,</span> <span class="n">y_new</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_prime</span> <span class="o">=</span> <span class="n">InterpFromMesh2d</span><span class="p">(</span><span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">elements</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">x_new</span><span class="p">,</span> <span class="n">y_new</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_prime</span> <span class="o">=</span> <span class="n">InterpFromMesh2d</span><span class="p">(</span><span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">elements</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">x_new</span><span class="p">,</span> <span class="n">y_new</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">contourname</span><span class="o">=</span><span class="s1">&#39;contour.exp&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.InterpFromMeshToGrid">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">InterpFromMeshToGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xgrid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ygrid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.InterpFromMeshToGrid" title="Link to this definition"></a></dt>
<dd><p>Interpolate data from a mesh onto a regular grid.</p>
<p>Wrapper function for $ISSM_DIR/lib/InterpFromMeshToGrid_python.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>array_like</em>) – Index of the mesh where data is defined (triangulation connectivity).</p></li>
<li><p><strong>x</strong> (<em>array_like</em>) – X coordinates of the nodes where data is defined.</p></li>
<li><p><strong>y</strong> (<em>array_like</em>) – Y coordinates of the nodes where data is defined.</p></li>
<li><p><strong>data</strong> (<em>array_like</em>) – Vertex values of data to be interpolated onto the grid.</p></li>
<li><p><strong>xgrid</strong> (<em>array_like</em>) – X coordinates defining the grid.</p></li>
<li><p><strong>ygrid</strong> (<em>array_like</em>) – Y coordinates defining the grid.</p></li>
<li><p><strong>default_value</strong> (<em>float</em>) – Value assigned to points located outside the mesh.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>grid_data</strong> – Interpolated data on the regular grid.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">grid_data</span> <span class="o">=</span> <span class="n">InterpFromMeshToGrid</span><span class="p">(</span><span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">elements</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">xgrid</span><span class="p">,</span> <span class="n">ygrid</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.InterpFromMeshToMesh2d">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">InterpFromMeshToMesh2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_interp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_interp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.InterpFromMeshToMesh2d" title="Link to this definition"></a></dt>
<dd><p>Interpolate from a 2D triangular mesh onto a list of points.</p>
<p>Wrapper function for $ISSM_DIR/lib/InterpFromMeshToMesh2d_python.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>array_like</em>) – Index of the mesh where data is defined (triangulation connectivity).</p></li>
<li><p><strong>x</strong> (<em>array_like</em>) – X coordinates of the nodes where data is defined.</p></li>
<li><p><strong>y</strong> (<em>array_like</em>) – Y coordinates of the nodes where data is defined.</p></li>
<li><p><strong>data</strong> (<em>array_like</em>) – Matrix holding the data to be interpolated onto the mesh (one column per field).</p></li>
<li><p><strong>x_interp</strong> (<em>array_like</em>) – X coordinates of the points onto which we interpolate.</p></li>
<li><p><strong>y_interp</strong> (<em>array_like</em>) – Y coordinates of the points onto which we interpolate.</p></li>
<li><p><strong>default_value</strong> (<em>float</em><em>, </em><em>optional</em>) – Default value if point is outside of triangulation (instead of linear interpolation).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data_prime</strong> – Vector of interpolated data at the target points.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">interpolated_temp</span> <span class="o">=</span> <span class="n">InterpFromMeshToMesh2d</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">temperature</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">interpolated_temp</span> <span class="o">=</span> <span class="n">InterpFromMeshToMesh2d</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">temperature</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">default_value</span> <span class="o">=</span> <span class="mi">253</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.InterpFromMeshToMesh3d">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">InterpFromMeshToMesh3d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_prime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_prime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_prime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.InterpFromMeshToMesh3d" title="Link to this definition"></a></dt>
<dd><p>Interpolate from a 3D hexahedron mesh onto a list of points.</p>
<p>Wrapper function for $ISSM_DIR/lib/InterpFromMeshToMesh3d_python.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>array_like</em>) – Index of the mesh where data is defined (hexahedron connectivity).</p></li>
<li><p><strong>x</strong> (<em>array_like</em>) – X coordinates of the nodes where data is defined.</p></li>
<li><p><strong>y</strong> (<em>array_like</em>) – Y coordinates of the nodes where data is defined.</p></li>
<li><p><strong>z</strong> (<em>array_like</em>) – Z coordinates of the nodes where data is defined.</p></li>
<li><p><strong>data</strong> (<em>array_like</em>) – Matrix holding the data to be interpolated onto the mesh.</p></li>
<li><p><strong>x_prime</strong> (<em>array_like</em>) – X coordinates of the points onto which we interpolate.</p></li>
<li><p><strong>y_prime</strong> (<em>array_like</em>) – Y coordinates of the points onto which we interpolate.</p></li>
<li><p><strong>z_prime</strong> (<em>array_like</em>) – Z coordinates of the points onto which we interpolate.</p></li>
<li><p><strong>default_value</strong> (<em>float</em><em>, </em><em>optional</em>) – Default value if no data is found (holes).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data_prime</strong> – Vector of interpolated data at the target points.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">interpolated_temp</span> <span class="o">=</span> <span class="n">InterpFromMeshToMesh3d</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">temperature</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">z</span><span class="p">,</span> <span class="mi">253</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.IssmConfig">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">IssmConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.IssmConfig" title="Link to this definition"></a></dt>
<dd><p>Get ISSM configuration value for a specified parameter.</p>
<p>Wrapper function for $ISSM_DIR/lib/IssmConfig_python.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>string</strong> (<em>str</em>) – The configuration parameter name to retrieve.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The configuration value associated with the specified parameter string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>value</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="n">IssmConfig</span><span class="p">(</span><span class="s1">&#39;parameter_name&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.MeshPartition">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">MeshPartition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">md</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_partitions</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.MeshPartition" title="Link to this definition"></a></dt>
<dd><p>Partition mesh according to the number of areas, using Metis library.</p>
<p>Wrapper function for $ISSM_DIR/lib/MeshPartition_python.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>md</strong> (<em>object</em>) – ISSM model object containing the mesh to be partitioned.</p></li>
<li><p><strong>n_partitions</strong> (<em>int</em>) – Number of partitions to divide the mesh into.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>element_partitioning</strong> (<em>ndarray</em>) – Vector of partitioning area numbers, for every element.</p></li>
<li><p><strong>node_partitioning</strong> (<em>ndarray</em>) – Vector of partitioning area numbers, for every node.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">element_partitioning</span><span class="p">,</span> <span class="n">node_partitioning</span> <span class="o">=</span> <span class="n">MeshPartition</span><span class="p">(</span><span class="n">md</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.MeshProfileIntersection">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">MeshProfileIntersection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.MeshProfileIntersection" title="Link to this definition"></a></dt>
<dd><p>Intersection of mesh with profile segments from an Argus .exp file.</p>
<p>Wrapper function for $ISSM_DIR/lib/MeshProfileIntersection_python.</p>
<p>Takes a .exp file (made of several profiles) and figures out its
intersection with a triangular mesh.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>array_like</em>) – Indices of the mesh elements defining the triangulation connectivity.</p></li>
<li><p><strong>x</strong> (<em>array_like</em>) – X coordinates of the mesh nodes.</p></li>
<li><p><strong>y</strong> (<em>array_like</em>) – Y coordinates of the mesh nodes.</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – Path to an Argus-style .exp file containing the segments. Can contain
groups of disconnected segments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>segments</strong> – Array where each row represents a segment intersection with the mesh.
Each row contains [x1, y1, x2, y2, element_id] where (x1, y1) and
(x2, y2) are the segment extremities and element_id is the ID of the
element containing the segment. The number of rows equals the number
of segments intersecting the mesh.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">segments</span> <span class="o">=</span> <span class="n">MeshProfileIntersection</span><span class="p">(</span><span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">elements</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">md</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="s2">&quot;profiles.exp&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.NodeConnectivity">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">NodeConnectivity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elements</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_nodes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.NodeConnectivity" title="Link to this definition"></a></dt>
<dd><p>Build node connectivity using element connectivity and nodes.</p>
<p>Wrapper function for $ISSM_DIR/lib/NodeConnectivity_python.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>elements</strong> (<em>array_like</em>) – Mesh triangulation connectivity (element indices).</p></li>
<li><p><strong>num_nodes</strong> (<em>int</em>) – Number of nodes in the mesh.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>node_connectivity</strong> – Node connectivity matrix.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node_connectivity</span> <span class="o">=</span> <span class="n">NodeConnectivity</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">num_nodes</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.ProcessRifts">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">ProcessRifts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segments</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segmentmarkers</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.ProcessRifts" title="Link to this definition"></a></dt>
<dd><p>Split a mesh where a rift (or fault) is present.</p>
<p>Wrapper function for $ISSM_DIR/lib/ProcessRifts_python.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>array_like</em>) – Initial triangulation connectivity (element indices).</p></li>
<li><p><strong>x</strong> (<em>array_like</em>) – X coordinates of the initial mesh nodes.</p></li>
<li><p><strong>y</strong> (<em>array_like</em>) – Y coordinates of the initial mesh nodes.</p></li>
<li><p><strong>segments</strong> (<em>array_like</em>) – Initial array of exterior segments defining the domain outline.</p></li>
<li><p><strong>segmentmarkers</strong> (<em>array_like</em>) – Initial array of flags marking each segment.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>index_prime</strong> (<em>ndarray</em>) – Resulting triangulation connectivity after rift processing.</p></li>
<li><p><strong>x_prime</strong> (<em>ndarray</em>) – X coordinates of the resulting mesh nodes.</p></li>
<li><p><strong>y_prime</strong> (<em>ndarray</em>) – Y coordinates of the resulting mesh nodes.</p></li>
<li><p><strong>segments_prime</strong> (<em>ndarray</em>) – Resulting array of exterior segments.</p></li>
<li><p><strong>segmentmarkers_prime</strong> (<em>ndarray</em>) – Resulting array of flags marking each segment.</p></li>
<li><p><strong>rifts</strong> (<em>ndarray</em>) – Array containing the processed rift information.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">index_prime</span><span class="p">,</span> <span class="n">x_prime</span><span class="p">,</span> <span class="n">y_prime</span><span class="p">,</span> <span class="n">segments_prime</span><span class="p">,</span> <span class="n">segmentmarkers_prime</span><span class="p">,</span> <span class="n">rifts</span> <span class="o">=</span> <span class="n">ProcessRifts</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">segments</span><span class="p">,</span> <span class="n">segmentmarkers</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.Triangle">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">Triangle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain_outline_filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rifts_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.Triangle" title="Link to this definition"></a></dt>
<dd><p>Generate a triangular mesh from a domain outline file.</p>
<p>Wrapper function for $ISSM_DIR/lib/Triangle_python.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain_outline_filename</strong> (<em>str</em>) – Path to an Argus domain outline file defining the mesh boundary.</p></li>
<li><p><strong>rifts_filename</strong> (<em>str</em><em>, </em><em>optional</em><em>, </em><em>default=None</em>) – Path to an Argus rifts file defining internal rifts within the domain.</p></li>
<li><p><strong>area</strong> (<em>float</em><em>, </em><em>default=1000000</em>) – Maximum area allowed for any element of the resulting mesh.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>index</strong> (<em>ndarray of int</em>) – Array defining the triangulation connectivity (element indices).</p></li>
<li><p><strong>x</strong> (<em>ndarray of float</em>) – X coordinates of the mesh nodes.</p></li>
<li><p><strong>y</strong> (<em>ndarray of float</em>) – Y coordinates of the mesh nodes.</p></li>
<li><p><strong>segments</strong> (<em>ndarray of int</em>) – Array of exterior segments defining the domain outline.</p></li>
<li><p><strong>segmentmarkers</strong> (<em>ndarray of int</em>) – Array of flags marking each segment (for boundary conditions or identifiers).</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">index</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">segments</span><span class="p">,</span> <span class="n">segmentmarkers</span> <span class="o">=</span> <span class="n">Triangle</span><span class="p">(</span><span class="s2">&quot;domain.exp&quot;</span><span class="p">,</span> <span class="n">rifts</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">area</span><span class="o">=</span><span class="mf">1000.0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.check_wrappers_installed">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">check_wrappers_installed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.check_wrappers_installed" title="Link to this definition"></a></dt>
<dd><p>Check whether ISSM Python wrappers are installed.</p>
<p>This function verifies the existence of the $ISSM_DIR/lib directory
and checks for the presence of at least one compiled Python wrapper
file with the pattern ‘<em>_python.</em>’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if ISSM Python wrappers are properly installed, False otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function depends on the $ISSM_DIR environment variable being set
and calls check_issm_dir() to verify this requirement. If ISSM_DIR is
not set, this function returns False (it does not raise an exception).
The function looks for compiled Python wrapper files that follow the
naming pattern ‘<em>_python.</em>’ in the $ISSM_DIR/lib directory.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">check_wrappers_installed</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If ISSM_DIR is not set or wrappers are missing, returns False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyissm.tools.wrappers.load_issm_wrapper">
<span class="sig-prename descclassname"><span class="pre">pyissm.tools.wrappers.</span></span><span class="sig-name descname"><span class="pre">load_issm_wrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyissm.tools.wrappers.load_issm_wrapper" title="Link to this definition"></a></dt>
<dd><p>Decorator for ISSM Python wrapper functions that enables lazy loading of
corresponding compiled C++ <cite>_python</cite> modules.</p>
<p>This decorator:
1. Creates a <cite>_load_func</cite> method that performs lazy loading when first called.
2. The <cite>_load_func</cite> method checks that <cite>ISSM_DIR</cite> environment variable is set.
3. Adds the ISSM <cite>lib</cite> directory to <cite>sys.path</cite>.
4. Verifies that the shared library (<cite>_python.*</cite>) for the function exists.
5. Imports the <cite>_python</cite> module and caches it as <cite>func._func</cite>.
6. Returns the cached <cite>_python</cite> function on subsequent calls.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – The Python wrapper function to decorate. The decorator will create
a <cite>_load_func</cite> method that loads and caches the corresponding
compiled <cite>_python</cite> function as <cite>func._func</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The original wrapper function with a <cite>_load_func</cite> method attached
that handles lazy loading of the <cite>_python</cite> function.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>function</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>RuntimeError</strong> – If <cite>ISSM_DIR</cite> is not set or if the corresponding <cite>_python.*</cite> file does not exist.</p></li>
<li><p><strong>ImportError</strong> – If the <cite>_python</cite> module cannot be imported.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The <cite>_python</cite> function is loaded lazily only when <cite>_load_func()</cite> is first called.</p></li>
<li><p>Subsequent calls to <cite>_load_func()</cite> return the cached function without reloading.</p></li>
<li><p>The <cite>_python</cite> module is assumed to be named as <cite>func.__name__ + ‘_python’</cite>.</p></li>
<li><p>Wrapper functions must call <cite>func._load_func()</cite> before accessing <cite>func._func</cite>.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-pyissm.tools">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pyissm.tools" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, ACCESS-NRI.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>